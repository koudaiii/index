#!/bin/bash

## check docker installed
if ! type "docker" > /dev/null; then
  echo "docker is not installed"
  exit 1
fi

## check docker daemon running
if ! docker info > /dev/null; then
  echo "docker daemon is not running"
  exit 1
fi

## Check docker-compose exists
if ! command -v docker-compose > /dev/null; then
  echo "docker-compose is not installed"
  exit 1
fi

## display web urls
echo "Docker Compose Environment:"
echo "Frontend: http://localhost"
echo "Backend API: http://localhost:8000"
echo "API Documentation: http://localhost:8000/docs"
echo "# 通常のバナー表示（AI推薦なし）"
echo "http://localhost/"
echo
echo "# AI推薦を有効にしたバナー表示"
echo "http://localhost/?use_ai=true"
echo  
echo "# カスタムクエリでAI推薦を表示"
echo "http://localhost/?query=おすすめの水筒&use_ai=true"
echo  

## run environment with docker-compose
docker-compose up -d
