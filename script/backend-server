#!/bin/bash

## Check python is installed
if ! command -v python3 > /dev/null; then
  echo "python3 is not installed"
  exit 1
fi

## Check if we're in backend directory
if [ ! -f "backend/main.py" ]; then
  echo "backend/main.py not found. Make sure you're in the project root directory"
  exit 1
fi

## Change to backend directory
cd backend

## Check if virtual environment exists, create if not
if [ ! -d "venv" ]; then
  echo "Creating virtual environment..."
  python3 -m venv venv
fi

## Activate virtual environment
source venv/bin/activate

## Install dependencies
pip install -r requirements.txt

## display web url
echo "Backend API running on http://localhost:8000"
echo "API Documentation: http://localhost:8000/docs"

## Start the backend server
exec uvicorn main:app --host 0.0.0.0 --port 8000 --reload
